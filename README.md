# SimpleMath - æ•°å­¦åŠ¨ç”»ç”Ÿæˆå¹³å°

ä¸€ä¸ªåŸºäºAIçš„æ•°å­¦æ¦‚å¿µå¯è§†åŒ–åŠ¨ç”»ç”Ÿæˆå¹³å°ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆäº¤äº’å¼çš„p5.jsæ•°å­¦åŠ¨ç”»ã€‚

## ğŸŒŸ é¡¹ç›®æ¦‚è¿°

SimpleMathæ˜¯ä¸€ä¸ªåˆ›æ–°çš„æ•°å­¦æ•™è‚²å·¥å…·ï¼Œå®ƒç»“åˆäº†äººå·¥æ™ºèƒ½å’Œå¯è§†åŒ–æŠ€æœ¯ï¼Œè®©ç”¨æˆ·é€šè¿‡ç®€å•çš„æ–‡å­—æè¿°å°±èƒ½ç”Ÿæˆç²¾ç¾çš„æ•°å­¦åŠ¨ç”»ã€‚æ— è®ºæ˜¯å‚…é‡Œå¶å˜æ¢ã€æ’åºç®—æ³•ï¼Œè¿˜æ˜¯å‡ ä½•å›¾å½¢ï¼Œéƒ½èƒ½é€šè¿‡AIæ™ºèƒ½ç”Ÿæˆå¯¹åº”çš„p5.jsåŠ¨ç”»ä»£ç ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ¤– **AIé©±åŠ¨ä»£ç ç”Ÿæˆ**ï¼šä½¿ç”¨OpenAI GPTæ¨¡å‹æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆp5.jsåŠ¨ç”»ä»£ç 
- ğŸ¨ **å®æ—¶åŠ¨ç”»é¢„è§ˆ**ï¼šç”Ÿæˆçš„åŠ¨ç”»åœ¨ç‹¬ç«‹çš„iframeä¸­å®æ—¶å±•ç¤º
- ğŸ“ **ä»£ç ç¼–è¾‘å™¨**ï¼šå†…ç½®Monacoç¼–è¾‘å™¨ï¼Œæ”¯æŒè¯­æ³•é«˜äº®å’Œè‡ªåŠ¨è¡¥å…¨
- ğŸ”§ **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰OpenAI APIé…ç½®å’Œæ¨¡å‹å‚æ•°
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸çš„è®¾å¤‡
- ğŸ¯ **ç¤ºä¾‹ä»£ç **ï¼šå†…ç½®å¤šç§æ•°å­¦åŠ¨ç”»ç¤ºä¾‹

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Vue 3** - æ¸è¿›å¼JavaScriptæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†
- **Vite** - å¿«é€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·
- **TailwindCSS** - å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **Pinia** - VueçŠ¶æ€ç®¡ç†åº“
- **Monaco Editor** - VS CodeåŒæ¬¾ä»£ç ç¼–è¾‘å™¨
- **Lucide Vue** - ç¾è§‚çš„å›¾æ ‡åº“

### åç«¯
- **Express** - Node.js Webåº”ç”¨æ¡†æ¶
- **TypeScript** - æœåŠ¡ç«¯ç±»å‹å®‰å…¨
- **CORS** - è·¨åŸŸèµ„æºå…±äº«æ”¯æŒ
- **UUID** - å”¯ä¸€æ ‡è¯†ç¬¦ç”Ÿæˆ

### åŠ¨ç”»å¼•æ“
- **p5.js** - åˆ›æ„ç¼–ç¨‹JavaScriptåº“
- **CDNåŠ è½½** - å¿«é€Ÿçš„p5.jsåº“åŠ è½½

### AIæœåŠ¡
- **OpenAI API** - GPTæ¨¡å‹é©±åŠ¨çš„ä»£ç ç”Ÿæˆ
- **è‡ªå®šä¹‰æç¤ºè¯** - ä¼˜åŒ–çš„æ•°å­¦åŠ¨ç”»ç”Ÿæˆæç¤º

## ğŸ›ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vue Frontend  â”‚    â”‚  Express Server â”‚    â”‚   OpenAI API    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ChatPanel   â”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚ API Routes  â”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚ GPT Models  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”‚AnimationPanelâ”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚Static Files â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ CodeEditor  â”‚ â”‚    â”‚ â”‚HTML Generatorâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒå·¥ä½œæµç¨‹

1. **ç”¨æˆ·è¾“å…¥**ï¼šåœ¨ChatPanelä¸­æè¿°æƒ³è¦çš„æ•°å­¦åŠ¨ç”»
2. **AIå¤„ç†**ï¼šè°ƒç”¨OpenAI APIç”Ÿæˆp5.jsä»£ç 
3. **åç«¯å¤„ç†**ï¼šExpressæœåŠ¡å™¨æ¥æ”¶ä»£ç ï¼Œç”ŸæˆHTMLé¡µé¢
4. **åŠ¨ç”»å±•ç¤º**ï¼šAnimationPanelé€šè¿‡iframeåŠ è½½ç”Ÿæˆçš„åŠ¨ç”»
5. **ä»£ç ç¼–è¾‘**ï¼šç”¨æˆ·å¯åœ¨CodeEditorä¸­æŸ¥çœ‹å’Œä¿®æ”¹ä»£ç 

## ğŸ“ é¡¹ç›®ç»“æ„

```
SimpleMath/
â”œâ”€â”€ api/                    # åç«¯æœåŠ¡
â”‚   â””â”€â”€ server.ts          # ExpressæœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ src/                   # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/        # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AnimationPanel.vue  # åŠ¨ç”»å±•ç¤ºé¢æ¿
â”‚   â”‚   â”œâ”€â”€ ChatPanel.vue      # å¯¹è¯é¢æ¿
â”‚   â”‚   â”œâ”€â”€ CodeEditor.vue     # ä»£ç ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ HeaderNav.vue      # é¡¶éƒ¨å¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ MessageItem.vue    # æ¶ˆæ¯é¡¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ SettingsModal.vue  # è®¾ç½®å¼¹çª—
â”‚   â”œâ”€â”€ stores/            # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ conversation.ts    # å¯¹è¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ p5.ts             # p5.jsçŠ¶æ€
â”‚   â”‚   â””â”€â”€ settings.ts       # è®¾ç½®çŠ¶æ€
â”‚   â”œâ”€â”€ services/          # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ openai.ts         # OpenAI APIæœåŠ¡
â”‚   â””â”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚       â””â”€â”€ HomePage.vue      # ä¸»é¡µ
â”œâ”€â”€ .trae/documents/       # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ äº§å“éœ€æ±‚æ–‡æ¡£.md
â”‚   â””â”€â”€ æŠ€æœ¯æ¶æ„æ–‡æ¡£.md
â””â”€â”€ dist/                  # æ„å»ºè¾“å‡ºç›®å½•
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd SimpleMath

# å®‰è£…ä¾èµ–
npm install
```

### é…ç½®OpenAI API

1. è·å–OpenAI APIå¯†é’¥ï¼šè®¿é—® [OpenAI Platform](https://platform.openai.com/api-keys)
2. å¯åŠ¨åº”ç”¨åï¼Œç‚¹å‡»å³ä¸Šè§’è®¾ç½®æŒ‰é’®
3. å¡«å…¥APIå¯†é’¥å’ŒBase URLï¼ˆé»˜è®¤ï¼šhttps://api.openai.com/v1ï¼‰
4. é€‰æ‹©æ¨¡å‹ï¼ˆæ¨èï¼šgpt-4ï¼‰

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£5173ï¼‰
npm run dev

# å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£3001ï¼‰
npm run server:dev
```

è®¿é—®ï¼šhttp://localhost:5173

### ç”Ÿäº§æ¨¡å¼

```bash
# æ„å»ºå¹¶å¯åŠ¨å®Œæ•´åº”ç”¨ï¼ˆä¸€ä½“åŒ–éƒ¨ç½²ï¼‰
npm run start

# æˆ–è€…åˆ†æ­¥æ‰§è¡Œ
npm run build      # æ„å»ºå‰ç«¯
npm run server     # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```

è®¿é—®ï¼šhttp://localhost:3001

## ğŸ“š APIæ¥å£æ–‡æ¡£

### åˆ›å»ºåŠ¨ç”»

```http
POST /api/p5/create
Content-Type: application/json

{
  "code": "function setup() { createCanvas(400, 400); }",
  "title": "åŠ¨ç”»æ ‡é¢˜",
  "width": 400,
  "height": 400
}
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "url": "http://localhost:3001/animation/abc123-def456",
  "id": "abc123-def456"
}
```

### è·å–åŠ¨ç”»ä¿¡æ¯

```http
GET /api/p5/:id
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "code": "function setup() { ... }",
  "title": "åŠ¨ç”»æ ‡é¢˜",
  "width": 400,
  "height": 400,
  "createdAt": "2024-01-01T00:00:00.000Z"
}
```

### è®¿é—®åŠ¨ç”»é¡µé¢

```http
GET /animation/:id
```

è¿”å›å®Œæ•´çš„HTMLé¡µé¢ï¼ŒåŒ…å«p5.jsåŠ¨ç”»ã€‚

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### 1. åŸºç¡€å‡ ä½•åŠ¨ç”»

**è¾“å…¥ï¼š** "åˆ›å»ºä¸€ä¸ªæ—‹è½¬çš„å½©è‰²æ­£æ–¹å½¢"

**ç”Ÿæˆä»£ç ï¼š**
```javascript
function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(20);
  
  push();
  translate(width/2, height/2);
  rotate(frameCount * 0.02);
  fill(100, 150, 255);
  rectMode(CENTER);
  rect(0, 0, 100, 100);
  pop();
}
```

### 2. æ•°å­¦å‡½æ•°å¯è§†åŒ–

**è¾“å…¥ï¼š** "å±•ç¤ºæ­£å¼¦æ³¢åŠ¨ç”»"

**ç”Ÿæˆä»£ç ï¼š**
```javascript
let angle = 0;

function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(20);
  
  stroke(100, 150, 255);
  strokeWeight(2);
  noFill();
  
  beginShape();
  for (let x = 0; x < width; x += 5) {
    let y = height/2 + sin(angle + x * 0.02) * 100;
    vertex(x, y);
  }
  endShape();
  
  angle += 0.02;
}
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **å‰ç«¯ç»„ä»¶**ï¼šåœ¨ `src/components/` ä¸­åˆ›å»ºæ–°ç»„ä»¶
2. **çŠ¶æ€ç®¡ç†**ï¼šåœ¨ `src/stores/` ä¸­æ·»åŠ æ–°çš„store
3. **APIæ¥å£**ï¼šåœ¨ `api/server.ts` ä¸­æ·»åŠ æ–°è·¯ç”±
4. **æ ·å¼**ï¼šä½¿ç”¨TailwindCSSå®ç”¨ç±»

### ä»£ç è§„èŒƒ

- ä½¿ç”¨TypeScriptè¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ªVue 3 Composition APIè§„èŒƒ
- ä½¿ç”¨ESLintå’ŒPrettieræ ¼å¼åŒ–ä»£ç 
- ç»„ä»¶æ–‡ä»¶ä½¿ç”¨PascalCaseå‘½å

### è°ƒè¯•æŠ€å·§

- å‰ç«¯ï¼šä½¿ç”¨Vue DevTools
- åç«¯ï¼šæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
- APIï¼šä½¿ç”¨Postmanæˆ–curlæµ‹è¯•
- åŠ¨ç”»ï¼šåœ¨iframeä¸­æ‰“å¼€å¼€å‘è€…å·¥å…·

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### Dockeréƒ¨ç½²

```dockerfile
FROM node:18-alpine

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3001
CMD ["npm", "run", "server"]
```

### ä¼ ç»Ÿéƒ¨ç½²

1. æ„å»ºé¡¹ç›®ï¼š`npm run build`
2. ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨
3. å®‰è£…ä¾èµ–ï¼š`npm ci --only=production`
4. å¯åŠ¨æœåŠ¡ï¼š`npm run server`
5. é…ç½®åå‘ä»£ç†ï¼ˆNginx/Apacheï¼‰

---

**SimpleMath** - è®©æ•°å­¦å˜å¾—ç”ŸåŠ¨æœ‰è¶£ï¼ ğŸ¨âœ¨
